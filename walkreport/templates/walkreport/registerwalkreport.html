{% extends "app/layout.html" %}
{% load staticfiles %}
{% block content %}

<div class="container">
    <form action="">
        {% csrf_token %}

        <h2 class="title-page">{{ title }}</h2>

        {#Antecedentes generales del informe de caminata#}
        <h3 class="section-title"> ANTECEDENTES GENERALES </h3>
        <div class="row">
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">N° de API:</label>
                        <select name="api" id="ant-api-walk" class="form-control" required>
                            <option disabled selected>Seleccione API</option>
                            {% for api in apis %}
                            <option id="{{api.id}}" value="{{api.id}}">{{ api.project_name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Nombre del Proyecto:</label>
                        <label class="form-label" name="project_name"></label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">N° de Contrato:</label>
                        <select name="contract" class="form-control" id="ant-contract-walk" required>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Empresa Contratista:</label>
                        <label name="enterprise"></label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Area:</label>
                        <select name="area" class="form-control" id="ant-wbs-walk" required>
                            <option disabled selected>Seleccione Area</option>
                            {% for wb in wbs %}
                            <option id="{{wb.id}}" value="{{wb.id}}">{{ wb.wbs_name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">WBS: </label>
                        <label name="wbs"></label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Fecha de Inicio:</label>
                        <label name="start_date"></label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Fecha de Termino:</label>
                        <label name="finish_date"></label>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Sistema: </label>
                        <select name="sistem" class="form-control" id="ant-sistem-walk" required>
                            <option disabled selected>Seleccione Sistema</option>
                            {% for sis in sistem %}
                            <option id="{{sis.id}}" value="{{sis.id}}">{{ sis.sistem_name}}</option>
                            {% endfor %}
                        </select>
                        <a name="a-modal" id="modal-sistem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-dotted" viewBox="0 0 16 16">
                              <path d="M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                            </svg>
                        </a>
                    </div>


                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Sub Sistema: </label>
                        <select name="subsistem" class="form-control" id="ant-subsistem-walk" required>
                            <option disabled selected>Seleccione SubSistema</option>

                        </select>
                        <a name="a-modal" id="modal-subsistem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-dotted" viewBox="0 0 16 16">
                              <path d="M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">Caminata N°: </label>
                        <input class="form-control" id="ant-numwalk-walk">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="field-form">
                        <label class="form-label">TOP: </label>
                        <input class="form-control" id="ant-top-walk">
                    </div>
                </div>

            </div>
        </div>

       <h2 class="title-page">{{ title }}</h2>
       <h3 class="section-title"> CONTROL DE OBSERVACIONES EN CAMINATA </h3>
       <h4 class="subsection-title"> REGISTRO DE OBSERVACIONES REALIZADAS EN TERRENO </h4>

       <div class="row">
            <div class="row g-3">
                <div class="col-md-12">
                    <label class="form-label">Descripcion Acción Pendiente:</label>
                    <input type="text" id="con-desc-walk" class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Ubicación:</label>
                    <input name="ubication" class="form-control" id="con-place-walk" required>
                </div>       
                
                <div class="col-md-4">
                    <label class="form-label">N° de Plano:</label>
                    <input name="plane" class="form-control" id="con-plane-walk" required>
                </div>         

                <div class="col-md-4">
                    <label class="form-label">Codigo de Equipo:</label>
                    <input name="equipment" class="form-control" id="con-equicode-walk" required>
                </div>        
                
                <div class="col-md-4">
                    <label class="form-label">Disciplina:</label>
                    <select name="discipline" class="form-control" id="con-disci-walk" required>
                                <option disabled selected>Seleccione Disciplina </option>
                        {% for discipline in disciplines %}
                        <option id="{{discipline.id}}" value="{{discipline.id}}">{{ discipline.discipline_name }}</option>
                        {% endfor %}
                    </select>
                </div>         
           
                <div class="col-md-4">
                    <label class="form-label">Resp. Construcción:</label>
                    <div class="select-a-container">
                        <select name="responsable" class="form-control" id="con-rescon-walk" required>
                            <option disabled selected>Seleccione Responsable </option>
                            {% for user in extern_users %}
                            <option id="{{user.id}}" value="{{user.id}}">{{ user.first_name }}</option>
                            {% endfor %}
                        </select>
                        <a name="a-modal" id="modal-user">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus" viewBox="0 0 16 16">
                              <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                              <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                        </a>
                    </div>

                </div>        
                <div class="col-md-4">
                    <label class="form-label">Lider Caminata:</label>
                    <div class="select-a-container">
                        <select name="leader" class="form-control" id="con-lider-walk" required>
                            <option disabled selected>Seleccione Lider </option>
                            {% for user in extern_users %}
                            <option id="{{user.id}}" value="{{user.id}}">{{ user.first_name }}</option>
                            {% endfor %}
                        </select>
                        <a name="a-modal" id="modal-user">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus" viewBox="0 0 16 16">
                                <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                                <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                        </a>
                    </div>

                </div>        
                <div class="col-md-4">
                    <label class="form-label">Prioridad:</label>
                    <select name="priority" class="form-control" id="con-priority-walk" required>
                        <option disabled selected>Seleccione Prioridad </option>
                        {% for priority in priorities %}
                        <option id="{{priority.id}}" value="{{priority.id}}">{{ priority.priority_name }}</option>
                        {% endfor %}
                    </select>
                </div>         
                <div class="col-md-4">
                    <label class="form-label">Fecha de Compromiso de Cierre:</label>
                    <input type="date" name="date_close" class="form-control" id="con-cierre-walk" required>
                </div>        
                <div class="col-md-4">
                    <label class="form-label">Fecha de Cierre Real:</label>
                    <input type="date" name="date_close_real" class="form-control" id="con-cierrereal-walk" required>
                </div>
            </div> 
       </div>

        <div class="btn-save">
            <input id="btn_add_walk" class="btn btn-danger" type="button" value="Agregar"/>
        </div>

        <div class="separator"></div>

        <div class="col-md-12 d-flex justify-content-center">
            <table class="display table table-hover table-responsive table-bordered border-secundary" width="100%" id="">
                <thead>
                    <tr>
                        <th>Ubicación</th>
                        <th>Codigo Equipo</th>
                        <th>N° de Plano</th>
                        <th>Disciplina</th>
                        <th>Descripción</th>
                        <th>Resp.Construcción</th>
                        <th>Lider Caminata</th>
                        <th>Prioridad</th>
                        <th>Fecha Cierre</th>
                        <th>Fecha Cierre Real</th>
                        <th>¿Eliminar?</th>
                    </tr>
                </thead>
                <tbody id="tbody-walk">
                    
                </tbody>
            </table>
        </div>
       <h2 class="title-page">{{ title }}</h2>
       <h3 class="section-title"> ARCHIVOS ADJUNTOS </h3>
        <div class="row">
            <div class="col-md-12 form-report">
                <div class="field-form">
                    <input class="form-control" id="file_walk" type="file" value="Subir Archivo" multiple/>
                </div>
            </div>
        </div>

        <div class="separator"></div>

        <div class="btn-save">
                <input id="btn_save_walk_report" class="btn btn-danger" type="button" value="Guardar"/>
        </div>    

        <script src="{% static 'app/scripts/walkreport-scripts/registerwalkreport.js' %}"></script>
        <script src="{% static 'app/scripts/common-scripts/selectprojectapi.js' %}"></script>
        <script src="{% static 'app/scripts/common-scripts/searchcontractinfo.js' %}"></script>
        <script src="{% static 'app/scripts/common-scripts/selectsistem.js' %}"></script>

    </form>

</div>

<div class="modal fade" id="registro" role="dialog">
    
</div>

{% endblock %}